{% extends 'logbook/includes/base.html' %}
{% load static %}

<!-- main block -->
{% block main_block %}
    <div class="wrapper">

        <div class="main">
            <div class="section">
                <div class="container">
                    <form class="row justify-content-between" method="post"> {% csrf_token %}

                        <div class="col-lg-6">
                            <div class="card card-plain">
                                <div class="card-body">
                                    <h1 class="font-weight-light">Entry information</h1>
                                    <div class="row">
                                        <div class="col-sm-12">
                                            <div class="datepicker-container">
                                                <div class="form-group">
                                                    <label>Entry date: {{entry.date}}</label>
                                                    <input type="date" id="datepicker"
                                                        class="form-control datepicker rounded border border-warning" value="{{entry_date}}"
                                                        placeholder="Date" data-datepicker-color="Success" id="date_input" name="date_input">
                                                </div>
                                            </div>
                                        </div>

                                        <div class="col">
                                            <div class="form-group">
                                                <label>Activity Summary</label>
                                                <textarea class="form-control rounded border border-primary" value="{{entry.activity}}"
                                                    name="activity_summary" id="activity_summary" placeholder="Day activity details">{{entry.activity}}</textarea>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>

                        <div class="col-lg-6">
                            <div class="card card-plain">
                                <div class="card-body">
                                    <h2 class="font-weight-light">Week - {{logbook.week_number}}<span class="px-2"></span>( 
                                    {% if entry.date %}
                                        {{entry.date}}
                                    {% else %}
                                        {{logbook.from_date}}
                                    {% endif %})</h2>
                                    <h4 class="text-light">Summarized Entry</h4>
                                    <p class="text-white mt-4" id="summary">
                                        Keep your account information up to date
                                        effortlessly, ensuring
                                        accurate communication and personalized experiences. Simply make the desired
                                        changes,
                                        click save, and enjoy a hassle-free account management experience.
                                    </p>
                                    <div class="row">
                                        <div class="col-sm-12">
                                            <div class="form-group">
                                                <span class="btn btn-neutral btn-sm float-left" rel="tooltip"
                                                    data-original-title="Regenerate summary"
                                                    data-placement="bottom">Regenerate</span>

                                                <span type="submit" class="btn btn-default btn-sm float-left"
                                                    rel="tooltip" data-original-title="Use original content"
                                                    data-placement="bottom">original</span>

                                                <button type="submit" class="btn btn-success btn-round float-right"
                                                    rel="tooltip" data-original-title="save"
                                                    data-placement="bottom">Save</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- form manipulation -->
    <script>
        const summary_input = document.getElementById("activity_summary")
        summary_input.oninput = ()=>{
            document.getElementById("summary").innerHTML = summary_input.value
        }
    </script>

{% endblock main_block %}